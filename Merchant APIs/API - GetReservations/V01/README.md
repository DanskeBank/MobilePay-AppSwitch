# GetReservationsV01 service #
The service returns a list of all orders with payment status = RES (reserved) within the given time window or all reservations tied to a specific customer.

### Input ###
|Parameter|Type|Description|
|:--------|:---|:----------|
|MerchantId|Char(60)|_Mandatory_. The MerchantId is generated by Danske Bank and sent to the merchant.|
|CustomerId|Char(60)|_Optional_. Identification of customer in MobilePay systems (phone number with prefix, e.g. +45).|
|TimeStart|Char(16)|_Mandatory_. Start of specific interval within which merchant wants to investigate reservations. ISO8601: 'YYYY-MM-DDTHH:MM'.|
|TimeEnd|Char(16)|_Mandatory_. End of time interval within which merchant wants to investigate reservations. ISO8601: 'YYYY-MM-DDTHH:MM'.|
|ActionCode|Char(1)|_Mandatory_. Action code specifies the output. 'S' - Single customer. 'A' - All reservations.|
|Test|Char(1)|_Optional_. Test flag: Y/N. Default is 'N'. If 'Y' it will not return any orders.|

### Output ###
|Parameter|Type|Description|
|:--------|:---|:----------|
|ReturnCode|Char(2)|See return code table below.|
|ReasonCode|Char(2)|See reason code table below.|
|NumOfTransactions|Integer|Number of transactions (e.g. rows in Transactions array).|
|Transactions|Array|See fields in array below.|

#### Array of data ####
|Parameter|Type|Description|
|:--------|:---|:----------|
|TimeStamp|Char(23)|ISO8601 (UTC time) YYYY-MM-DDThh:mm:ss.dddZ (Ex. 2015-01-16T10:53:31.601Z).|
|OrderId|Char(50)|Merchant's OrderId.|
|TransactionId|Char(20)|TransactionId.|

### Return and reason codes ###
The tables below describe the values of the fields *ReturnCode* and *ReasonCode* which are stated in the response from the GetReservationsV01 service.

#### Return codes ####
|Value|Text|Description|
|:----|:---|:----------|
|00|Ok|Service completed without errors.|
|04|Warning|Service completed with validation errors.|
|08|Error|Service completed with errors.|
|24|Severe error|Service completed with errors that must be examined by Danske Bank.|

#### Reason codes ####
- Reason codes 1-19 are releated to input validation errors.
- Reason codes 20-39 are releated to other errors regarding specific input parameters.
- Reason codes 40-97 are releated for other types of errors.
- Reason code 98 is a deadlock or timeout.
- Reason code 99 is related to errors that must be examined by Danske Bank.

|Value|Text|Description|
|:----|:---|:----------|
|00|Ok|Completed without errors|
|02|Invalid MerchantId|MerchantId is not specified or has an invalid value.|
|03|Invalid CustomerId|CustomerId is not specified or has an invalid value.|
|04|Invalid Test flag |Test flag is not specified or has an invalid value.|
|08|Invalid ActionCode|ActionCode is not specified or has an invalid value.|
|09|Invalid Date|The date specified is invalid or the format is wrong. DateFrom must be less than or equal to DateTo.|
|10|Invalid Time|The specified time is invalid or the format is wrong.|
|20|Merchant not found|The specified MerchantId could not be confirmed as an active Danske Bank customer.|
|23|Customer not found|The specified CustomerId could not be found in the MobilePay backend.|
|21|Order not found|The specified Order ID for an existing order could not be found in the MobilePay backend (within the given time interval if specified).|
|99|Technical error|The call did not succeed due to a technical error in the backend. The technical error must be examined by Danske Bank.|
